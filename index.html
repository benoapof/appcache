<!DOCTYPE html>
<html lang="en" manifest="test.appcache">

<head>
<meta charset="utf-8">
<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
Remove this if you use the .htaccess -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<title>index</title>
<meta name="description" content="">
<meta name="author" content="b.poulard">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>

<div>
	<header>
		<h1>Test application cache - v.06</h1>
	</header>

	<div>
		<p>
			Image générique
			<img src="image.png">
		</p>
		<p>
			Image pour le test connecté ou pas
			<img src="imageTestConnecT.png" onerror="alert('Pas connecté !')">
		</p>
	</div>

	<div id="shoppingList" class="shoppingList">
		<h2>Shopping list</h2>
		<ul>
			<li>Tester l'appcache
			<li>Sortir une image de l'appcache pour tester si on est connecté ou pas (network ? fallback ?)
			<li>Tester le navigator.online
			<li>Enregistrer un formulaire sur le serveur si online, dans le localstorage si offline. 
		</ul>
	</div>

	<footer>
		<p>
			&copy; Copyright by b.poulard
		</p>
	</footer>

</div>

<script>
alert(navigator.onLine);
if(!navigator.onLine) location.reload();

function onUpdateReady() {
  alert('found new version!');
}
window.applicationCache.addEventListener('updateready', onUpdateReady);
if(window.applicationCache.status === window.applicationCache.UPDATEREADY) {
  onUpdateReady();
}
</script>

</body>

</html>
